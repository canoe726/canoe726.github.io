{"version":3,"file":"static/chunks/pages/post/[category]/[slug]-ebad6ba0e7769c7d.js","mappings":"qFACKA,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,0BACA,WACE,OAAO,EAAQ,U,oJCuIvB,UAzHkC,SAC7B,G,IAAHC,EAAI,EAAJA,KAEAC,GADQ,EAARC,SACW,EAAXD,aACAE,EAAO,EAAPA,QAEsCC,GAAAA,EAAAA,EAAAA,UAAiB,IAAhDC,EAA+BD,EAAoB,GAAtCE,EAAkBF,EAAoB,GACpDG,GAAkBC,EAAAA,EAAAA,QAAyB,MAE3CC,GAAkBC,EAAAA,EAAAA,cAAY,WAC9BH,EAAgBI,UAClBJ,EAAgBI,QAAQC,MAAMC,UAAa,oBAA4C,OAAzBhB,OAAOiB,YAAc,IAAI,MACvFP,EAAgBI,QAAQC,MAAMG,QAAW,GAA+B,OAA7B,EAAIlB,OAAOiB,YAAc,MAEtE,IAAME,EAAWC,SAASC,eAAe,aACrCrB,OAAOsB,SAAW,KAAOH,EAC3BA,EAASI,UAAYnB,EAAYoB,MACxBxB,OAAOyB,QAAU,KAAON,IACjCA,EAASI,UAAY,MAEtB,CAACnB,EAAYoB,QAwBhB,OAtBAE,EAAAA,EAAAA,YAAU,WACR,IAAMP,EAAWC,SAASC,eAAe,aACzC,OAAO,WACDF,IACFA,EAASI,UAAY,OAGxB,CAACnB,KAEJsB,EAAAA,EAAAA,YAAU,WAER,OADA1B,OAAO2B,iBAAiB,SAAUf,GAC3B,WACLZ,OAAO4B,oBAAoB,SAAUhB,MAEtC,CAACA,KAEJc,EAAAA,EAAAA,YAAU,YACRG,EAAAA,EAAAA,GAAevB,GAASwB,MAAK,SAACC,GAC5BtB,EAAesB,QAEhB,CAACzB,EAASG,KAEP,QACHuB,EAAAA,GAAG,CAACC,SAAS,WAAWC,QAAQ,mB,mBAC9BF,EAAAA,GAAG,CACFC,SAAS,WACTE,SAAS,SACTC,IAAI,OACJC,KAAK,MACLC,MAAM,MACNC,OAAO,O,kBAENP,EAAAA,GAAG,CAACQ,IAAK9B,EAAiB+B,MAAM,OAAOF,OAAO,OAAON,SAAS,W,kBAC5DS,EAAAA,QAAK,CACJC,OAAO,OACPC,UAAU,QACVC,IAAM,GAA0B1C,OAAxBC,EAAYC,SAAS,KAAQ,OAALF,GAChC2C,IAAM,SAAgC3C,OAAxBC,EAAYC,SAAS,KAAWD,OAARD,EAAK,KAA0B,OAAvBC,EAAY2C,YAC1DC,OAAQC,EAAAA,S,QAIbjB,EAAAA,GAAG,CAACC,SAAS,WAAWG,IAAI,OAAOC,KAAK,MAAMC,MAAM,MAAMC,OAAO,OAAOW,gBAAgB,qB,mBACtFC,EAAAA,GAAI,CAACC,WAAW,SAASnB,SAAS,WAAWQ,MAAM,OAAOP,QAAQ,cAAcE,IAAI,MAAMC,KAAK,MAAMrB,UAAU,wBAAwBqC,UAAU,SAASC,SAAS,MAAMC,MAAM,Q,SAASnD,EAAYoB,QACpMpB,EAAYoD,WAAQ,QAClBL,EAAAA,GAAI,CAACC,WAAW,QAAQnB,SAAS,WAAWG,IAAI,MAAMC,KAAK,MAAMrB,UAAU,wBAAwBsC,SAAS,MAAMD,UAAU,SAASE,MAAM,W,SAAYnD,EAAYoD,e,QAGvKxB,EAAAA,GAAG,CAACyB,OAAO,c,kBACTC,MAAG,CAACC,UAAU,YAAYC,wBAAyB,CAAEC,OAAQrD,Y,2bCtFvD,SAAeqB,EAAgBiC,G,OAAhBjC,EAAc,sB,SAAdA,I,OAAAA,EAAc,YAA7B,SAAQ,EAAuBiC,G,IACtCC,E,iFAAeC,GAAAA,GAASC,IAAIlC,KAAMmC,QAAQJ,G,cAA1CC,EAAS,EAAH,K,kBACLA,EAAOI,Y,4CAF4B,yB","sources":["webpack://_N_E/?b24e","webpack://_N_E/./pages/post/[category]/[slug].tsx","webpack://_N_E/./utils/markdownToHtml.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/post/[category]/[slug]\",\n      function () {\n        return require(\"private-next-pages/post/[category]/[slug].tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/post/[category]/[slug]\"])\n      });\n    }\n  ","import fs from 'fs'\nimport path from 'path'\nimport matter from 'gray-matter'\nimport type { NextPage } from 'next'\nimport { Box, Text } from '@chakra-ui/react'\nimport { FrontMatter } from '../../../stores/posts'\nimport { useCallback, useEffect, useRef, useState } from 'react'\nimport markdownToHtml from '../../../utils/markdownToHtml'\nimport Image from 'next/image'\nimport { imageLoader } from '../../../utils/loader'\n\ninterface PostProps {\n  slug: string;\n  category: string;\n  frontmatter: FrontMatter;\n  content: string;\n}\n\nconst Post: NextPage<PostProps> = ({\n  slug,\n  category,\n  frontmatter,\n  content\n}) => {\n  const [htmlContent, setHtmlContent] = useState<string>('')\n  const imageZoomBoxRef = useRef<HTMLImageElement>(null)\n\n  const imageZoomScroll = useCallback(() => {\n    if (imageZoomBoxRef.current) {\n      imageZoomBoxRef.current.style.transform = `scale(calc(1.0 + ${window.pageYOffset / 500}))`\n      imageZoomBoxRef.current.style.opacity = `${1 - window.pageYOffset / 500}`\n    }\n    const topTitle = document.getElementById('top-title')\n    if (window.scrollY >= 120 && topTitle) {\n      topTitle.innerHTML = frontmatter.title\n    } else if (window.screenY < 120 && topTitle) {\n      topTitle.innerHTML = ''\n    }\n  }, [frontmatter.title])\n\n  useEffect(() => {\n    const topTitle = document.getElementById('top-title')\n    return () => {\n      if (topTitle) {\n        topTitle.innerHTML = ''\n      }\n    }\n  }, [frontmatter])\n\n  useEffect(() => {\n    window.addEventListener('scroll', imageZoomScroll)\n    return () => {\n      window.removeEventListener('scroll', imageZoomScroll)\n    }\n  }, [imageZoomScroll])\n\n  useEffect(() => {\n    markdownToHtml(content).then((html) => {\n      setHtmlContent(html)\n    })\n  }, [content, setHtmlContent])\n\n  return (\n    <Box position='relative' padding='35vh 4em 4em 4em'>\n      <Box\n        position='absolute'\n        overflow='hidden'\n        top='64px'\n        left='4em'\n        right='4em'\n        height='35vh'\n      >\n        <Box ref={imageZoomBoxRef} width='100%' height='100%' position='relative'>\n          <Image\n            layout='fill'\n            objectFit='cover'\n            alt={`${frontmatter.category}-${slug}`}\n            src={`/post/${frontmatter.category}/${slug}/${frontmatter.coverImage}`}\n            loader={imageLoader}\n          ></Image>\n        </Box>\n      </Box>\n      <Box position='absolute' top='64px' left='4em' right='4em' height='35vh' backgroundColor='rgba(0, 0, 0, 0.4)'>\n        <Text fontWeight='medium' position='absolute' width='100%' padding='0 1em 0 1em' top='40%' left='50%' transform='translate(-50%, -40%)' textAlign='center' fontSize='5xl' color='white'>{frontmatter.title}</Text>\n        {frontmatter.shortcut && (\n          <Text fontWeight='light' position='absolute' top='70%' left='50%' transform='translate(-50%, -70%)' fontSize='2xl' textAlign='center' color='gray.100'>{frontmatter.shortcut}</Text>\n        )}\n      </Box>\n      <Box margin='100px 0 0 0'>\n        <div className='post-body' dangerouslySetInnerHTML={{ __html: htmlContent }}></div>\n      </Box>\n    </Box>\n  )\n}\n\nexport async function getStaticPaths () {\n  const files = fs.readdirSync(path.join('./public/post'))\n  const paths = files.map(dirName => {\n    const dirs = fs.readdirSync(path.join(`./public/post/${dirName}`))\n    const slugs = dirs.map(dir => {\n      return dir.replace('.md', '')\n    })\n    const params = slugs.map((slug) => {\n      return {\n        params: {\n          category: dirName,\n          slug: slug\n        }\n      }\n    })\n    return params\n  })\n  return {\n    paths: paths.flat(),\n    fallback: false\n  }\n}\n\ninterface getStaticPropsProperty {\n  params: {\n    category: string;\n    slug: string;\n  }\n}\n\nexport async function getStaticProps ({ params: { category, slug } }: getStaticPropsProperty) {\n  const markdownWithMeta = fs.readFileSync(path.join(`./public/post/${category}/${slug}`, `${slug}.md`), 'utf-8')\n  const { data: frontmatter, content } = matter(markdownWithMeta)\n\n  return {\n    props: {\n      slug: slug,\n      category: category,\n      frontmatter: frontmatter,\n      content: content\n    }\n  }\n}\n\nexport default Post\n","import remark from 'remark'\nimport html from 'remark-html'\n\nexport default async function markdownToHtml (markdown: any) {\n  const result = await remark().use(html).process(markdown)\n  return result.toString()\n}\n"],"names":["window","__NEXT_P","push","slug","frontmatter","category","content","useState","htmlContent","setHtmlContent","imageZoomBoxRef","useRef","imageZoomScroll","useCallback","current","style","transform","pageYOffset","opacity","topTitle","document","getElementById","scrollY","innerHTML","title","screenY","useEffect","addEventListener","removeEventListener","markdownToHtml","then","html","Box","position","padding","overflow","top","left","right","height","ref","width","Image","layout","objectFit","alt","src","coverImage","loader","imageLoader","backgroundColor","Text","fontWeight","textAlign","fontSize","color","shortcut","margin","div","className","dangerouslySetInnerHTML","__html","markdown","result","remark","use","process","toString"],"sourceRoot":""}